## AWS 생활코딩

### 정적 웹사이트와 동적웹사이트
정적 웹사이트는 작성된 그대로 사용자에게 제공되는 웹사이트를 말한다. 반대로 동적 웹사이트는 웹 어플리케이션(php, Node js, etc.)이 사용자의 요청을 받고 응답(웹페이지)을 생성해서 보내준다. 똑같은 모양의 샌드위치가 이미 준비되어있고 손님이 주문할 때마다 똑같은 샌드위치가 나가는 식당과 주방에 요리사가 있어서 손님이 샌드위치를 주문하면 그때 만들어서 내보내는 식당 사이의 차이라고 생각하면 될 것 같다. 만약 손님이 피클을 빼달라고 하면 요리사는 피클을 뺀 샌드위치를 줄 수 있다.  이런 식으로 동적 웹사이트는 사용자의 요청에 따라 다른 페이지를 제공할 수 있는 기능이 있다. 

그런데 동적 웹사이트는 똑같은 요청이 들어올 때마다 매번 웹페이지를 새로 생성해서 보내주는가? 그렇다면 같은 내용의 페이지를 여러번 생성하면서 자원이 낭비될 것이다.

### Cache
만약 어떤 요청의 응답을 어딘가에 저장해뒀다가 똑같은 요청이 들어올 때 꺼내주면 어떨까? 이런 방법, 그리고 저장된 파일을 캐시Cache라고 한다. 그리고 이러한 역할을 전담하는 서버를 캐싱 서버caching server라고 한다. 사용자의 요청이 있을 때 본 서버는 응답을 생성하여 내보내고, 그 길에 앉아있던 캐시서버가 그 지나가는 응답을 복사해 어딘가에 저장해둔다. 그리고 잠시 후 사용자로부터 똑같은 요청이 들어오면 본 서버에서 생성할 필요 없이 캐시서버가 저장해놓은 응답을 꺼내주면 되는 것이다. 

### 서버가 클라이언트와 매우 멀리 떨어져있다면

서버가 서울에 있다고 할 떄 한국에 있는 클라이언트들은 사용에 어려움을 느끼지 못할 수도 있다. 하지만 클라이언트가 뉴욕이나 케이프타운처럼 물리적으로 먼 곳에 있다면 서버에 접속하는데 걸리는 시간은 서버와 클라이언트 사이의 거리가 멀어지는 만큼 더 오래 걸리게 될 것이다. 만약 서버가 멀리 있어도 가까이에 있는 것만큼 짧은 접속시간을 가질 수는 없을까? 이러한 생각에서 나온 것이 Content Delivery Network, CDN이다. 일종의 국제고속배송 서비스인 것이다.
(라고 강의에서 말하기는 하는데 아무튼)

그러나 CDN은 데이터의 전달 속도를 빠르게 해주는 게 아니라 서버를 클라이언트에게 가깝게 옮겨주는 것에 가깝다. CDN서버는 세계 각지에 분산되어있다. 어떤 클라이언트가 서버에 요청을 보내면 가장 가깝게 위치한 CDN서버에서 미리 저장된 컨텐츠(캐시를 말하는 듯 함)를 클라이언트로 보내준다. 가까운 CDN 서버에서 응답을 보내는 것이기에 원 서버에서 보내는 것보다 짧은 응답시간을 갖게 된다. 

### CloudFront

CloudFront는 위에서 언급된 캐시 서버와 CDN를 합친 서비스라고 할 수 있다. 전 세계 곳곳에 분산되어있는 AWS의 캐시 서버를 이용해 클라이언트의 위치가 어디에 있든 빠른(그리고 안전한) 서비스를 제공할 수 있게 해주는 것이다.
이 서비스에서 본 서버는 Origin, Cloudfront에서 제공하는 캐시서버는 Distribution이라고 부른다.
